
<% layout( 'm_layout' ) -%>

<div class="jumbotron">
	<div class="container">
  <h2>Module: <%= item.modultitel %> (<%= item.modulnr1 %>)</h2>
  </div>
</div>

<div class="container">
    <form class="modules-edit" action="/modules/save" method="post"></form>
    <div id="res" class="alert"></div>
</div>
   
    <script src='/static/js/jquery.min.js' type='text/javascript'></script>
		<script type="text/javascript" src="/static/js/underscore.js"></script>
		<script type="text/javascript" src="/static/js/jsv.js"></script>
    <script src="/static/js/jsonform.js"></script>
    
  
 
    <script type="text/javascript">
      $('form.modules-edit').jsonForm({
        schema: {
          modultitel: {
            type: 'string',
            title: 'Modultitel',
            default: '<%= item.modultitel %>',
            required: true
          },
          university: {
            type: 'number',
            title: 'Hochschule',
            default:  '<%= item.university %>'
          },
          sws: {
            type: 'select',
            title: 'SWS',
            default: '<%= item.sws %>',
            required: true
          }
        },
        onSubmit: function (errors, values) {
          if (errors) {
            $('#res').html('<p>I beg your pardon?</p>');
          }
          else {
            $('#res').html('<p>Hello ' + values.name + '.' +
              (values.age ? '<br/>You are ' + values.age + '.' : '') +
              '</p>');
          }
        }
      });
    </script>
